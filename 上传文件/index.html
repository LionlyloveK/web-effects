<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta http-equiv="X-UA-Compatible" content="ie=edge">
		<title>上传文件</title>
	</head>
	<style>
		.add_box{
			width: 100px;
			height: 100px;
			border: 1px solid #ccc;
			border-radius: 10px;
			position: relative;
			font-size: 8px;
			text-align: center;
		}
		.add_icon{
			position: absolute;
			font-size: 50px;
			left: 50%;
			top: 50%;
			transform: translate(-50%,-50%);
		}
		.i_none{
			position: absolute;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			overflow: hidden;
			cursor: pointer;
			opacity: 0;
		}
			
		.show_box{
			display: flex;
			align-items: center;
			flex-wrap: wrap;
		}
			
		.da_img{
			width: 100px;
			height: 100px;
			border: 1px solid #ccc;
			border-radius: 10px;
			margin: 10px 10px 10px 0;
			object-fit: cover;
		}
	</style>
	<script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
	<body>
		<div id="app">
			<div class="add_box">
				<div class="add_icon">+</div>
				<div>上传图片(单图)</div>
				<input type="file"  multiple="multiple"  accept="image/*" class="i_none" id="i0" @change="getImg" data-type="0"/> 
			</div>
			<div class="show_box">
				<img v-for="(item,index) in img_list" :src="item" :key="index" class="da_img" />
			</div>
		</div>
		<script>
			let vue=new Vue({
				el:"#app",
				data:{
					img_list:[],
				},
					
				methods:{
					getImg(e){
						// let {type}=e.currentTarget.dataset;
						// if(type=="0"){
						// }
						var file = e.target.files;
						console.log(file)
						for(var i = 0;i<file.length;i++){
							let fileReader=new FileReader();
							fileReader.readAsDataURL(file[i]);
							//readAsDataURL方法将图片转为base64格式存储于result中
							fileReader.onload=((res)=>{//encodeURIComponent
								let img=res.srcElement.result
								this.img_list.push(img)
							})
							// 上传失败
							fileReader.onerror=((res)=>{
								console.log(res)
							})
						}
					}
				},
				mounted() {
					
				},
				created() {
					
				},
			})
			
		</script>
	</body>
</html>